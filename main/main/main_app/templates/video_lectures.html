{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–í–∏–¥–µ–æ–ª–µ–∫—Ü–∏–∏</title>
  <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>

<style>
.video-page {
  max-width: 1200px;
  margin: 40px auto;
  padding: 0 20px;
}

.video-title {
  font-size: 28px;
  font-weight: bold;
  margin-bottom: 25px;
}

.video-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 20px;
}

.video-card {
  background: white;
  border-radius: 16px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.08);
  overflow: hidden;
  cursor: pointer;
  transition: 0.2s;
}

.video-card:hover {
  transform: translateY(-4px);
}

.video-preview {
  background: linear-gradient(135deg, #4f46e5, #6366f1);
  height: 180px;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-size: 50px;
}

.video-body {
  padding: 15px;
}

.video-name {
  font-weight: bold;
  font-size: 16px;
  margin-bottom: 8px;
}

.video-desc {
  font-size: 14px;
  color: #555;
}

/* Modal */
.modal {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.8);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

.modal-content {
  background: white;
  width: 90%;
  max-width: 900px;
  border-radius: 16px;
  overflow: hidden;
}

.modal-header {
  padding: 15px;
  font-weight: bold;
  display: flex;
  justify-content: space-between;
}

.modal iframe, 
.modal video {
  width: 100%;
  height: 480px;
}

.close-btn {
  cursor: pointer;
  font-size: 20px;
}
</style>

<body>

 <header class="header">
  <div class="logo">
    <div class="log_p"><img src="{% static 'image/emblem.png' %}" alt="logo" /></div>
    <div class="site-title">–û–¢–î–ï–õ –†–ê–ó–†–ê–ë–û–¢–ö–ò<br>–ú–£–õ–¨–¢–ò–ú–ï–î–ò–ô–ù–û–ì–û –ö–û–ù–¢–ï–ù–¢–ê</div>
    <div><button class="menu-toggle" onclick="toggleMenu()">‚ò∞</button></div>
  </div>
  <nav class="nav" id="navMenu">
    <a href="{% url 'books:index' %}">–ì–õ–ê–í–ù–ê–Ø</a>
    <a href="{% url 'books:all_books' %}">–í–°–ï –ö–ù–ò–ì–ò</a>
     <a href="{% url 'books:video_lectures' %}">–í–ò–î–ï–û–õ–ï–ö–¶–ò–ò</a>
    <div class="dropdown">
      <a href="#" onclick="toggleDropdown(event)">–ö–ê–¢–ê–õ–û–ì</a>
      <div class="dropdown-content" id="dropdownMenu">
        {% for facultet in facultets %}
          <a href="{% url 'books:faculty_books' facultet.id %}">{{ facultet.name }}</a>
        {% endfor %}
      </div>
    </div>
    <a href="#contacts" onclick="scrollToFooter(event)">–ö–û–ù–¢–ê–ö–¢–´</a>
  </nav>
</header>

<div class="video-page">
  <div class="video-title">üéì –í–∏–¥–µ–æ–ª–µ–∫—Ü–∏–∏</div>

  <div class="video-grid">
    {% for video in videos %}
      <div class="video-card" onclick="openVideo('{{ video.video_file.url }}', '{{ video.title }}')">
        <div class="video-preview">‚ñ∂</div>
        <div class="video-body">
          <div class="video-name">{{ video.title }}</div>
          <div class="video-desc">
            {{ video.description|truncatechars:80 }}
          </div>
        </div>
      </div>
    {% empty %}
      <p>–ü–æ–∫–∞ –Ω–µ—Ç –≤–∏–¥–µ–æ–ª–µ–∫—Ü–∏–π</p>
    {% endfor %}
  </div>
</div>

<!-- Modal -->
<div class="modal" id="videoModal">
  <div class="modal-content">
    <div class="modal-header">
      <span id="modalTitle"></span>
      <span class="close-btn" onclick="closeVideo()">‚úï</span>
    </div>
    <video id="modalVideo" controls></video>
  </div>
</div>
 <footer class="footer">
    <div class="footer-content">
      <div class="footer-column">
        <img src="{% static 'image/emblem.png' %}" alt="logo" class="logo" />
        <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
        <p>160012, –≥–æ—Ä–æ–¥ –®—ã–º–∫–µ–Ω—Ç,<br>–ø—Ä–æ—Å–ø–µ–∫—Ç –¢–∞—É–∫–µ —Ö–∞–Ω–∞, 5</p>
        <p><strong>–ö–∞–Ω—Ü–µ–ª—è—Ä–∏—è</strong><br>8 (725-2) 21-01-41</p>
        
      </div>
      <div class="footer-column">
        <h3>–û –Ω–∞—Å</h3>
        <p><strong>–û—Ç–¥–µ–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º—É–ª—å—Ç–∏–º–µ–¥–∏–π–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</strong>
        <p>160012, –≥–æ—Ä–æ–¥ –®—ã–º–∫–µ–Ω—Ç,<br>–ø—Ä–æ—Å–ø–µ–∫—Ç –¢–∞—É–∫–µ —Ö–∞–Ω–∞, 5, –ö–æ—Ä–ø—É—Å –î, –∞—É–¥.201</p>
        <p><strong>–ö–æ–Ω—Ç–∞–∫—Ç–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω</strong><br>8 (725-2) 30-05-72</p>
        <p><a href="mailto:info@auezov.edu.kz">content-ormk@auezov.edu.kz</a></p>
      </div>
    </div>
    <div class="footer-bottom">
      ¬© 2025 –ú.”ò–£–ï–ó–û–í –ê–¢–´–ù–î–ê“í–´ –û“¢–¢“Æ–°–¢–Ü–ö “ö–ê–ó–ê“ö–°–¢–ê–ù –£–ù–ò–í–ï–†–°–ò–¢–ï–¢–Ü
    </div>
  </footer>
<script>
function openVideo(url, title) {
  document.getElementById("videoModal").style.display = "flex";
  document.getElementById("modalVideo").src = url;
  document.getElementById("modalTitle").innerText = title;
}

function closeVideo() {
  document.getElementById("videoModal").style.display = "none";
  document.getElementById("modalVideo").src = "";
}
</script>

</body>
</html>
